{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\binel\\\\OneDrive\\\\Desktop\\\\iprofiler with React hooks\\\\iprofiler_React-Hooks\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport Navigation from './components/Navigation/Navigation';\nimport Login from './components/Login/Login';\nimport Register from './components/Register/Register';\nimport Logo from './components/Logo/Logo';\nimport ImageLinkForm from './components/ImageLinkForm/ImageLinkForm';\nimport Rank from './components/Rank/Rank';\nimport FaceRecognition from './components/FaceRecognition/FaceRecognition';\nimport './App.css';\nimport Modal from './components/Modal/Modal';\nimport Profile from './components/Profile/Profile'; // const initialState = {\n//   input: '',\n//   box: [],\n//   route: 'login',\n//   user: {\n//     id: '',\n//     name: '',\n//     email: '',\n//     entries: 0,\n//     joined: ''\n//   }\n// };\n// const { useGlobalState } = createGlobalState(initialState);\n// class App extends Component {\n//   constructor() {\n//     super();\n//     this.state = initialState;\n//   }\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [input, setInput] = useState('');\n  const [box, setBoxes] = useState([]);\n  const [isLoggedIn, setLogIn] = useState(false);\n  const [isProfileOpen, setProfile] = useState(false);\n  const [route, setRoute] = useState('login');\n  const [user, setUser] = useState({\n    id: '',\n    name: '',\n    email: '',\n    entries: 0,\n    joined: ''\n  });\n\n  const loadUser = data => {\n    setUser({\n      id: data.id,\n      name: data.name,\n      email: data.email,\n      entries: data.entries,\n      joined: data.joined\n    });\n  };\n\n  const calculateFaceLocation = data => {\n    const faces = [];\n    const image = document.getElementById(\"inputimage\");\n    const width = Number(image.width);\n    const height = Number(image.height);\n\n    for (let i = 0; i < data.outputs[0].data.regions.length; i++) {\n      const clarifaiFace = data.outputs[0].data.regions[i].region_info.bounding_box;\n      faces.push({\n        leftCol: clarifaiFace.left_col * width,\n        topRow: clarifaiFace.top_row * height,\n        rightCol: width - clarifaiFace.right_col * width,\n        bottomRow: height - clarifaiFace.bottom_row * height\n      });\n    }\n\n    return faces;\n  }; // const displayFaceBox = (box) => {\n  //   setBoxes(box); \n  // };\n  //input property of the app\n\n\n  const onInputChange = event => {\n    setInput(event.target.value);\n  };\n\n  const onButtonSubmit = () => {\n    fetch('https://fast-ravine-77412.herokuapp.com/imageurl/', {\n      method: 'post',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        input: input\n      })\n    }).then(response => response.json()).then(response => {\n      if (response) {\n        fetch('https://fast-ravine-77412.herokuapp.com/image', {\n          method: 'put',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            id: user.id\n          })\n        }).then(response => response.json()).then(count => {\n          setUser(Object.assign({ ...user,\n            entries: count\n          }));\n        });\n      }\n\n      setBoxes(calculateFaceLocation(response));\n    }).catch(error => console.log(\"error\", error));\n  };\n\n  const onRouteChange = route => {\n    if (route === 'login') {\n      //login page\n      setInput('');\n      setBoxes([]);\n      setRoute(route);\n    } else {\n      setRoute(route);\n    }\n  };\n\n  const toggleModal = () => {\n    setProfile(prevState => ({ ...prevState,\n      isProfileOpen: !prevState.isProfileOpen\n    }));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(Navigation, {\n      isonRouteChange: onRouteChange,\n      toggleModal: toggleModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this), isProfileOpen && /*#__PURE__*/_jsxDEV(Modal, {\n      children: /*#__PURE__*/_jsxDEV(Profile, {\n        isProfileOpen: isProfileOpen,\n        toggleModal: toggleModal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 9\n    }, this), route === 'home' ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Logo, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Rank, {\n        name: user.name,\n        entries: user.entries\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(ImageLinkForm, {\n        onInputChange: onInputChange,\n        onButtonSubmit: onButtonSubmit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(FaceRecognition, {\n        box: box,\n        imageUrl: input\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 11\n    }, this) : route === 'login' ? /*#__PURE__*/_jsxDEV(Login, {\n      loadUser: loadUser,\n      onRouteChange: onRouteChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 13\n    }, this) : /*#__PURE__*/_jsxDEV(Register, {\n      loadUser: loadUser,\n      onRouteChange: onRouteChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 130,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"D5P++LwHeceClY39NWZsCU8rV+Q=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","Navigation","Login","Register","Logo","ImageLinkForm","Rank","FaceRecognition","Modal","Profile","App","input","setInput","box","setBoxes","isLoggedIn","setLogIn","isProfileOpen","setProfile","route","setRoute","user","setUser","id","name","email","entries","joined","loadUser","data","calculateFaceLocation","faces","image","document","getElementById","width","Number","height","i","outputs","regions","length","clarifaiFace","region_info","bounding_box","push","leftCol","left_col","topRow","top_row","rightCol","right_col","bottomRow","bottom_row","onInputChange","event","target","value","onButtonSubmit","fetch","method","headers","body","JSON","stringify","then","response","json","count","Object","assign","catch","error","console","log","onRouteChange","toggleModal","prevState"],"sources":["C:/Users/binel/OneDrive/Desktop/iprofiler with React hooks/iprofiler_React-Hooks/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport Navigation from './components/Navigation/Navigation';\nimport Login from './components/Login/Login';\nimport Register from './components/Register/Register';\nimport Logo from './components/Logo/Logo';\nimport ImageLinkForm from './components/ImageLinkForm/ImageLinkForm';\nimport Rank from './components/Rank/Rank';\nimport FaceRecognition from './components/FaceRecognition/FaceRecognition';\nimport './App.css';\nimport Modal from './components/Modal/Modal';\nimport Profile from './components/Profile/Profile';\n\n\n// const initialState = {\n//   input: '',\n//   box: [],\n//   route: 'login',\n//   user: {\n//     id: '',\n//     name: '',\n//     email: '',\n//     entries: 0,\n//     joined: ''\n//   }\n// };\n// const { useGlobalState } = createGlobalState(initialState);\n\n// class App extends Component {\n//   constructor() {\n//     super();\n//     this.state = initialState;\n//   }\nfunction App() {\n  const [input, setInput] = useState('');\n  const [box, setBoxes] = useState([]);\n  const [isLoggedIn, setLogIn] = useState(false);\n  const [isProfileOpen, setProfile] = useState(false);\n  const [route, setRoute] = useState('login');\n  const [user, setUser] = useState({\n    id: '',\n    name: '',\n    email: '',\n    entries: 0,\n    joined: ''\n  });\n  \n\n  const loadUser = (data) => {\n    setUser({\n      id: data.id,\n      name: data.name,\n      email: data.email,\n      entries: data.entries,\n      joined: data.joined\n    })\n  };\n\n  const calculateFaceLocation = (data) => {\n    const faces = [];\n    const image = document.getElementById(\"inputimage\");\n    const width = Number(image.width);\n    const height = Number(image.height);\n    for (let i = 0; i < data.outputs[0].data.regions.length; i++) {\n    const clarifaiFace = data.outputs[0].data.regions[i].region_info.bounding_box;\n    faces.push({\n      leftCol: clarifaiFace.left_col * width,\n      topRow: clarifaiFace.top_row * height,\n      rightCol: width - (clarifaiFace.right_col * width),\n      bottomRow: height - (clarifaiFace.bottom_row * height)\n    });\n  }\n  return faces;\n};\n\n  // const displayFaceBox = (box) => {\n  //   setBoxes(box); \n  // };\n\n  //input property of the app\n  const onInputChange = (event) => {\n    setInput(event.target.value);\n  };\n\n  const onButtonSubmit = () => {\n    fetch('https://fast-ravine-77412.herokuapp.com/imageurl/', {\n      method: 'post',\n      headers: {'Content-Type': 'application/json'},\n      body: JSON.stringify({\n        input: input\n      })\n    })\n    \n    .then(response => response.json())\n    .then(response => {\n      if (response) {\n        fetch('https://fast-ravine-77412.herokuapp.com/image', {\n          method: 'put',\n          headers: {'Content-Type': 'application/json'},\n          body: JSON.stringify({\n            id: user.id\n          })\n        })\n        .then(response =>  response.json())\n        .then(count => {\n          setUser(Object.assign({...user, entries: count}));\n        });\n      }\n      setBoxes(calculateFaceLocation(response));\n    })\n    .catch(error => console.log(\"error\", error));\n  };\n\n  const onRouteChange = (route) => {\n    if (route === 'login') {//login page\n      setInput('');\n      setBoxes([]);\n      setRoute(route)\n    } else {\n      setRoute(route);\n    }\n  };\n\n  const toggleModal = () => {\n    setProfile(prevState => ({\n      ...prevState,\n      isProfileOpen: !prevState.isProfileOpen\n    }))\n  }\n  return (\n    <div className='App'>\n      <Navigation  isonRouteChange={onRouteChange} toggleModal={toggleModal}/>\n      {isProfileOpen &&\n        <Modal>\n          <Profile isProfileOpen={isProfileOpen} toggleModal={toggleModal}/>\n        </Modal>\n      }\n      { route === 'home' \n        ? <div>\n            <Logo />\n            <Rank \n            name={user.name} \n            entries={user.entries} />\n            <ImageLinkForm \n            onInputChange = {onInputChange}\n            onButtonSubmit = {onButtonSubmit}/>\n            <FaceRecognition \n            box= {box} \n            imageUrl = {input}/>\n          </div>\n        : (\n          route === 'login'\n          ? <Login loadUser={loadUser} onRouteChange={onRouteChange}/>\n          : <Register loadUser={loadUser} onRouteChange={onRouteChange}/>\n        )\n      }\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}